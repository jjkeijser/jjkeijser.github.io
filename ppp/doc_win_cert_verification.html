<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta name="keywords" content="ppp eap tls eap-tls pppd openssl">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>EAP-TLS patch for pppd: Documentation</title>

  <link rel="stylesheet" href="mw-monobook-lookalike.css">
</head>


<body>

<h1>EAP-TLS patch for pppd</h1>

<table width="800" summary="">
  <tr>
    <td width="10%">
    <td width="20%" align="left"><a href="index.html">Home</a></td>
    <td width="20%" align="left"><a href= "download.html">Download</a></td>
    <td width="50%" align="left"><a href= "documentation.html">Documentation</a>: Windows Certificate Verification</td>
  </tr>
</table>

<hr>

<h2>A warning on Windows Certificate Verification
</h2>

When setting up a <a href="doc_pptp_winclientsetup.html">Windows PPTP Client</a> you have a choice of 
enabling of disabling the server certificate verification. If you disable server certificate verification,
then the Windows PPTP client will happily connect to almost any PPTP VPN server, without checking the 
validity of the server-supplied certificate <b><em>at all</em></b>. Thus, in the following screen
<br>
<img src="vpn_security_properties_all_certs.png" width="400">
<br>
enabling the option <b>Validate server certificate</b> is always a wise choice.
<br><br>
However, to make life worse, if you have tested your VPN connection profile without server certificate
validation, and then turn the option <b>ON</b> then 
<pre>
  ALWAYS MAKE SURE TO REBOOT WINDOWS AFTER TURNING ON "VALIDATE SERVER CERTIFICATE"
</pre>

If you do not reboot, then Windows will continue to connect to the VPN server using cached credentials, 
and the VPN connection will succeed, even if the server-side certifcate is expired or invalid. 
This will give the user a false sense of security, and the connection will fail after the first reboot.
<br><br>
This "feature" of Windows is present since Windows XP and all the way up Windows 10 1809. As of this
writing (April 30th, 2019), a fully patched Windows 7 Pro installation still shows this behaviour.

<br><br>
This issue has been reported to Microsoft as <b>MSRC Case 48337</b> but they do not consider this a bug
or a security issue and hence refuse to fix it. 

<br><br>
You can/should also read the <a href="doc_troubleshooting.html">Troubleshooting</a> page.

</body>
</html>

